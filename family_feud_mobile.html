<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Family Feud ‚Äì Mobile</title>

<style>
html, body {
    height: 100%;
    margin: 0;
    background: #02122e;
    color: white;
    font-family: Arial Black, sans-serif;
    overflow: hidden;
}

#app {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 8px;
    box-sizing: border-box;
}

h1 {
    text-align: center;
    color: gold;
    font-size: 6vw;
    margin: 4px 0;
}

#scores {
    text-align: center;
    font-size: 4vw;
}

#question {
    text-align: center;
    font-size: 4.5vw;
    margin: 6px 0;
}

#answers {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
}

.answer {
    background: gold;
    color: #02122e;
    border-radius: 8px;
    padding: 6px;
    font-size: 4vw;
    font-weight: bold;
    text-align: center;
}

.answer.revealed {
    background: #00c853;
    color: white;
}

#status {
    display: flex;
    justify-content: space-between;
    font-size: 4vw;
}

#timer {
    font-size: 6vw;
    color: #ff5252;
}

#strikes {
    display: flex;
    justify-content: space-around;
    font-size: 7vw;
}

#inputArea {
    display: flex;
    gap: 4px;
}

input {
    flex: 1;
    font-size: 4vw;
    padding: 6px;
    border-radius: 6px;
    border: none;
}

button {
    font-size: 4vw;
    padding: 6px;
    border-radius: 6px;
    border: none;
    font-weight: bold;
}

#controls {
    display: flex;
    gap: 4px;
}

#revealAllBtn {
    background: #333; /* darker background */
    color: white;
}
#final {
    text-align: center;
    font-size: 6vw;
    color: #00e676;
}
</style>
</head>

<body>
<div id="app">

<h1>FAMILY FEUD</h1>

<div id="scores">Team A: 0 | Team B: 0</div>
<div id="question"></div>
<div id="answers"></div>

<div id="status">
    <div id="currentTeam"></div>
    <div id="timer">30</div>
</div>

<div id="strikes">
    <div>üÖ∞Ô∏è <span id="strikesA"></span></div>
    <div>üÖ±Ô∏è <span id="strikesB"></span></div>
</div>

<div id="inputArea">
    <input id="guess" placeholder="Enter answer">
    <button onclick="submitAnswer()">OK</button>
</div>

<div id="controls">
    <button onclick="switchTeam()">Switch</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="nextQuestion()">Next</button>
    <button id="revealAllBtn" onclick="revealAll()">Reveal All</button>
</div>

<div id="final"></div>

</div>

<!-- SOUNDS -->
<audio id="correct" src="https://www.soundjay.com/buttons/sounds/button-4.mp3"></audio>
<audio id="wrong" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>
<audio id="buzz" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>

<script>
/* =====================
   GAME DATA
   ===================== */
const gameData = [
{
    question: "Who is the Tarsier in the Family?",
    answers: [
        { text: "Tita Ella", points: 20, revealed: false },
        { text: "Ate Anne", points: 12, revealed: false },
        { text: "Dr Joy", points: 8, revealed: false },
        { text: "Mommy Nene", points: 6, revealed: false },
        { text: "Judge Grace", points: 5, revealed: false },
        { text: "Ninang Glo", points: 4, revealed: false },
        { text: "Bastik", points: 2, revealed: false },
        { text: "All Girls", points: 1, revealed: false }
    ]
},
{
    question: "Who is the Quietest member?",
    answers: [
        { text: "Tito Adows", points: 15, revealed: false },
        { text: "Tito Basil", points: 12, revealed: false },
        { text: "None", points: 8, revealed: false },
        { text: "Tito Mon", points: 6, revealed: false },
        { text: "Vincent", points: 4, revealed: false },
        { text: "Nina", points: 3, revealed: false },
        { text: "Moana", points: 2, revealed: false }
    ]
},
{
    question: "Name a phrase or expression that Daddy Pepe is famous for saying.",
    answers: [
        { text: "whatever", points: 20, revealed: false },
        { text: "my pabs", points: 16, revealed: false },
        { text: "ha ha", points: 12, revealed: false },
        { text: "consistent lang", points: 7, revealed: false },
        { text: "isa pa pang delete", points: 5, revealed: false },
        { text: "love daddy pepe", points: 5, revealed: false },
        { text: "no problem", points: 3, revealed: false }
    ]
},
{
    question: "Name one Famous Song which is special to the Victoria Family",
    answers: [
        { text: "l-o-v-e", points: 20, revealed: false },
        { text: "angelina", points: 18, revealed: false },
        { text: "my girl", points: 14, revealed: false },
        { text: "i want it that way", points: 10, revealed: false },
        { text: "an affair to remember", points: 8, revealed: false },
        { text: "tanging yaman", points: 6, revealed: false },
        { text: "sound of music", points: 4, revealed: false }
    ]
},
{
    question: "Who is the official photographer of the family?",
    answers: [
        { text: "Tita Ella", points: 17, revealed: false },
        { text: "Tito Ben", points: 12, revealed: false },
        { text: "Tita Bong", points: 10, revealed: false },
        { text: "Dr Joy", points: 8, revealed: false },
        { text: "Tito Jess", points: 6, revealed: false },
        { text: "Justin", points: 4, revealed: false }
    ]
},
{
    question: "Who is the family tech support - the person everyone goes to when their phone or wifi is not working?",
    answers: [
        { text: "Tito Jess", points: 12, revealed: false },
        { text: "Justin", points: 10, revealed: false },
        { text: "Jewel", points: 8, revealed: false }
    ]
}
];

/* =====================
   GAME STATE
   ===================== */
let qIndex = 0;
let currentTeam = "A";
let scores = { A: 0, B: 0 };
let strikes = { A: 0, B: 0 };
let time = 30;
let timer;
let paused = false;

const $ = id => document.getElementById(id);

/* =====================
   RELAXED MATCHING
   ===================== */
function normalize(str) {
    return str
      .toLowerCase()
      .replace(/[^a-z0-9 ]/g, "")
      .replace(/\s+/g, " ")
      .trim();
}

function isMatch(answer, guess) {
    const a = normalize(answer);
    const g = normalize(guess);
    return a.includes(g) || g.includes(a);
}

/* =====================
   GAME FUNCTIONS
   ===================== */
function loadQuestion() {
    gameData[qIndex].answers.forEach(a => a.revealed = false);
    strikes = { A: 0, B: 0 };
    render();
    resetTimer();
}

function render() {
    $("scores").textContent = `Team A: ${scores.A} | Team B: ${scores.B}`;
    $("question").textContent = gameData[qIndex].question;
    $("currentTeam").textContent = `Team ${currentTeam}`;

    $("answers").innerHTML = gameData[qIndex].answers.map(a =>
        `<div class="answer ${a.revealed ? "revealed" : ""}">
            ${a.revealed ? a.text.toUpperCase() + " " + a.points : "____"}
        </div>`
    ).join("");

    $("strikesA").textContent = "‚ùå".repeat(strikes.A);
    $("strikesB").textContent = "‚ùå".repeat(strikes.B);
}

function submitAnswer() {
    resetTimer();
    const guess = $("guess").value.trim();
    $("guess").value = "";
    if (!guess) return;

    const match = gameData[qIndex].answers.find(a =>
        !a.revealed && isMatch(a.text, guess)
    );

    if (match) {
        match.revealed = true;
        scores[currentTeam] += match.points;
        $("correct").play();
    } else {
        strikes[currentTeam]++;
        $("wrong").play();
        if (strikes[currentTeam] >= 3) switchTeam();
    }
    render();
}

function switchTeam() {
    currentTeam = currentTeam === "A" ? "B" : "A";
    $("buzz").play();
    resetTimer();
    render();
}

function nextQuestion() {
    qIndex++;
    if (qIndex >= gameData.length) {
        clearInterval(timer);
        $("final").textContent =
            scores.A > scores.B ? "TEAM A WINS!" :
            scores.B > scores.A ? "TEAM B WINS!" : "IT'S A TIE!";
        document.querySelectorAll("button,input").forEach(e => e.disabled = true);
        return;
    }
    loadQuestion();
}

/* =====================
   REVEAL ALL
   ===================== */
function revealAll() {
    gameData[qIndex].answers.forEach(a => a.revealed = true);
    render();
}

/* =====================
   TIMER (PER ATTEMPT)
   ===================== */
function startTimer() {
    clearInterval(timer);
    time = 30;
    $("timer").textContent = time;
    timer = setInterval(() => {
        if (!paused) {
            time--;
            $("timer").textContent = time;
            if (time <= 0) {
                clearInterval(timer);
                strikes[currentTeam]++;
                switchTeam();
            }
        }
    }, 1000);
}

function resetTimer() {
    paused = false;
    startTimer();
}

function pauseTimer() {
    paused = !paused;
}

/* =====================
   EVENTS
   ===================== */
$("guess").addEventListener("keydown", e => {
    if (e.key === "Enter") submitAnswer();
});

/* =====================
   START GAME
   ===================== */
loadQuestion();
</script>

</body>
</html>
